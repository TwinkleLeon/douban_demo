!function(t){var a=t.module("movieList",[]);a.config(["$routeProvider",function(t){t.when("/:Apiname",{templateUrl:"./movieList/movieList.html",controller:"movieListCtrl"})}]),a.controller("movieListCtrl",["$scope","Jsonp","$window","$routeParams",function(t,a,o,e){t.isShow=!0,t.pageIndex=1,t.perCount=10,t.start=(t.pageIndex-1)*t.perCount,a.jsonp({url:"http://api.douban.com/v2/movie/"+e.Apiname+"?"+t.searchVal,params:{count:t.perCount,start:t.start},callback:function(a){t.totalCount=a.total,t.pageCount=o.Math.ceil(a.total/t.perCount),t.data=a,t.isShow=!1,t.$apply()}}),t.getPage=function(n){t.isShow=!0,0!=t.pageIndex?t.pageIndex!=t.pageCount+1?(t.pageIndex=n,t.start=(t.pageIndex-1)*t.perCount,a.jsonp({url:"http://api.douban.com/v2/movie/"+e.Apiname,params:{count:t.perCount,start:t.start},callback:function(a){t.totalCount=a.total,t.pageCount=o.Math.ceil(a.total/t.perCount),t.data=a,t.isShow=!1,t.$apply()}})):t.pageIndex=t.pageCount:t.pageIndex=1}}])}(angular);